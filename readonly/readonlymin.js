var page_loaded = "complete" === document.readyState || "loaded" === document.readyState || "interactive" === document.readyState, readonly_org = {}, warning_message = "THIS ORG IS IN READ-ONLY MODE";
function get_org_id(b) { var a = new XMLHttpRequest; a.onreadystatechange = function () { if (4 == this.readyState && 200 == this.status) { if ("string" === typeof this.responseText) { var a = JSON.parse(this.responseText); readonly_org.org_id = "undefined" !== a.bannernext.custid ? a.bannernext.custid : !1 } b() } }; a.open("GET", "/navbar/bannernext?rp=replacements", !0); a.send() }
function inject_readonly_header() {
    var b = new XMLHttpRequest; b.onreadystatechange = function () {
        if (4 == this.readyState && 200 == this.status && "string" === typeof this.responseText) {
            var a = JSON.parse(this.responseText); !1 !== a.message && (warning_message = a.message.warning_message); a = '<div style="position:absolute;background-color:yellow;width:100%;text-align:center;color:red;font-weight:bold;font-size:16px;top:40px;z-index:1;">' + warning_message + "</div>"; var b = document.createElement("div"); b.innerHTML = a; document.getElementsByTagName("body")[0].appendChild(b);
            document.getElementsByTagName("body")[0].style.marginTop = "65px"
        }
    }; b.open("GET", "/muse/data/get/hcl_readonly_" + readonly_org.org_id, !0); b.send()
}
if (!page_loaded) var timer = setInterval(function () {
    if (null !== document.getElementById("bss-usersMenu")) {
        get_org_id(inject_readonly_header); clearInterval(timer); if (null !== document.getElementById("bss-adminMenu")) {
            var b = function () { document.getElementById("ce_feature_select_modal").outerHTML = "" }, a = function () {
                document.querySelectorAll("#ce_feature_select_modal input.feature_select_checkbox"); var b = { warning_message: document.getElementById("warning_message").value }, a = new XMLHttpRequest; a.onreadystatechange =
                    function () { 4 == this.readyState && 200 == this.status && (console.log("wew"), window.location.reload()) }; a.open("POST", "/muse/data/post/hcl_readonly_" + readonly_org.org_id, !0); a.setRequestHeader("Content-type", "application/json"); a.send('{"client-data" : ' + JSON.stringify(b) + ',"script-name" : "hcl_readonly_' + readonly_org.org_id + '"}')
            }, d = document.createElement("li"), e = document.createElement("a"); d.className = "ce_admin_panel"; e.setAttribute("href", "javascript:void(0);"); e.setAttribute("class", "ce_admin_panel");
            e.setAttribute("role", "menuitem"); e.setAttribute("tabindex", "0"); e.appendChild(document.createTextNode("CE FEATURES")); d.appendChild(e); d.addEventListener("click", function (c) {
                c.preventDefault(); c = document.createElement("div"); c.setAttribute("id", "ce_feature_select_modal"); c.innerHTML = '<style type="text/css">#modal_community_members > div{height:50px;border-bottom:1px solid #000000;}#modal_community_members > div.disabled{background-color: rgba(0,0,0,0.3);}#modal_community_members div.user_photo{width:50px;height:50px;float:left;margin-left:15px;}#modal_community_members div.user_photo img{margin-top:2px;border-radius:15px;height:45px;width:45px;}#modal_community_members div.user_name{height:50px;float:left;margin-left:15px;}#modal_community_members div.user_name span{display:block;font-weight:bold;}#modal_community_members div.confirm{float:right;margin-top:12px;}#delete_community_members_modal .delete_button:hover{text-decoration:none !important;border-color:#bf0101 !important;color:#bf0101 !important;}#delete_community_members_modal .cancel_button:hover{text-decoration:none !important;border-color:#1D3458 !important;color:#1D3458 !important;}</style><div style="position:fixed;top:0;bottom:0;left:0;right:0;background-color:rgba(0,0,0,0.7);z-index:1500;"></div><div id="delete_community_members_modal" style="position:fixed;width:450px;height:500px;z-index:999999;top:50%;left:50%;margin:-250px 0 0 -225px;background:white;box-shadow:0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);"><div style="width: 100%;height: 45px;background-color: #325c80;color: #FFFFFF;text-align: center;line-height: 45px;font-size: 22px;border-bottom: 1px solid #264661;">Read-Only Settings</div><div style="height: 30px;border-bottom: 1px solid #000000;line-height: 30px;"></div><div style="width:100%;height: 370px;border-bottom: 1px solid #000000;overflow-y: scroll;" id="modal_community_members"></div><div><a href="javascript:void(0);" style="display: inline-block;padding: 8px 17px;margin: 5px;border: 2px solid #ff0000;color: #ff0000 !important;" id="modal_delete_button" class="delete_button">Save</a><a style="display: inline-block;padding: 8px 17px;margin: 5px;border: 2px solid #325c80;color:#325c80 !important;" class="cancel_button" id="modal_cancel_button" href="javascript:void(0);">Cancel</a></div></div>';
                document.getElementsByTagName("body")[0].appendChild(c); c = '<label>Read Only Warning Msg:</label><input type="text" id="warning_message" value="' + warning_message + '"/>'; document.getElementById("modal_community_members").innerHTML = c; document.getElementById("modal_delete_button").addEventListener("click", a, !1); document.getElementById("modal_cancel_button").addEventListener("click", b, !1)
            }, !1); document.querySelector("#bss-adminMenu ul").appendChild(d)
        } CNX_DISABLE_INPUT_FIELDS(); window.location.pathname.startsWith("/files/app#/person/") &&
            (disable_filedrop_upload_dialog_submit_button(), console.log("files thing")); window.location.pathname.startsWith("/profiles") && (null !== document.getElementById("addTagButtonId") && (lconn.profiles.SocialTags.saveNewTag = function () { return !1 }), null !== document.getElementById("editProfileButton") && (document.getElementById("editProfileButton").onClick = "", document.getElementById("editProfileButton").disabled = !0)); window.location.pathname.startsWith("/activities") && (activites_disable_on_load(), window.onhashchange =
                function () { setTimeout(activites_disable_on_load, 600) }, null !== document.getElementById("lconn_act_StartActivityButton_0") && document.getElementById("lconn_act_StartActivityButton_0").addEventListener("click", function () { document.getElementById("lconn_act_NonceSaveButton_0").querySelector('input[type="button"]').disabled = !0 }, !1), null !== document.getElementById("editProfileButton") && (document.getElementById("editProfileButton").onClick = "", document.getElementById("editProfileButton").disabled = !0)); window.location.pathname.startsWith("/files") &&
                    (files_disable_usability(), window.onhashchange = function () { files_disable_usability() }); if (-1 < window.location.pathname.indexOf("communityoverview") || window.location.pathname.indexOf("communitystart")) var f = 1E3, h = setInterval(function () {
                        document.querySelectorAll("#showRichContent").forEach(function (a) { a.querySelector("a") && (a.querySelector("a").outerHTML = "") }); document.querySelectorAll(".lconnActionBar").forEach(function (a) { a.outerHTML = "" }); lconn.core.WidgetPlacement.openMenu = function () { return !1 }; f +=
                            f / 10; 1250 <= f && clearInterval(h)
                    }, f); window.location.pathname.startsWith("/wikis") && wikis_disable_on_load(); if (window.location.pathname.startsWith("/communities") || window.location.pathname.startsWith("/metricssc/communitiesapp")) {
                    null !== document.getElementById("createPlaceButton") && (document.getElementById("createPlaceButton").addEventListener("click", function () {
                        document.getElementById("startNewCommMenuItem").setAttribute("widgetid", ""); document.getElementById("copyExistingCommMenuItem").setAttribute("widgetid",
                            "")
                    }, !1), document.getElementById("createPlaceButton").style.visibility = "hidden"); if (null !== document.getElementById("Members_navItem") || -1 < window.location.hash.indexOf("fullpageWidgetId=Members")) {
                        var g = function () {
                            var a = setInterval(function () {
                            null !== document.getElementById("controlsRow") && (_Members_iContext.iScope().displayMemberCreateForm = function () { return !1 }, _Members_iContext.iScope().displayMemberInviteForm = function () { return !1 }, _Members_iContext.iScope().displayImport = function () { return !1 }, _Members_iContext.iScope().displayExport =
                                function () { return !1 }, _Members_iContext.iScope().doMemberDelete = function () { return !1 }, clearInterval(a))
                            }, 600)
                        }; document.getElementById("Members_navItem").addEventListener("click", function () { g() }, !1); g()
                    } null !== document.getElementById("displayActionsBtn") && document.getElementById("displayActionsBtn").addEventListener("click", function () {
                        document.getElementById("communityMenu_EDITURL").setAttribute("widgetid", ""); document.getElementById("communityMenu_CREATESUB").setAttribute("widgetid", ""); document.getElementById("communityMenu_CUSTOMIZE").setAttribute("widgetid",
                            ""); document.getElementById("communityMenu_CHANGELAYOUT").setAttribute("widgetid", ""); document.getElementById("communityMenu_EMAIL").setAttribute("widgetid", ""); document.getElementById("communityMenu_LEAVE").setAttribute("widgetid", ""); document.getElementById("communityMenu_MOVE").setAttribute("widgetid", ""); document.getElementById("communityMenu_DELETE").setAttribute("widgetid", ""); document.getElementById("communityMenu_CREATECOPY").setAttribute("widgetid", "")
                    }, !1); null !== document.getElementById("followDisplayActionsBtn") &&
                        (lconn.communities.bizCard.core.follow = function () { return !1 }, lconn.communities.bizCard.core.unFollow = function () { return !1 }); if (-1 < window.location.hash.indexOf("section=files") || -1 < window.location.hash.indexOf("section=trash") || -1 < window.location.hash.indexOf("section=folders")) community_files_disable_on_load(), window.onhashchange = function () { console.log("test files"); community_files_disable_on_load() }
                    }
    }
}, 1E3);
function files_disable_usability() {
null !== document.getElementById("scene-body") && (document.getElementById("scene-body").outerHTML = ""); null !== document.getElementById("lconn_files_action_createitem_0") && (document.getElementById("lconn_files_action_createitem_0").disabled = !0); null !== document.querySelector(".lotusPaging") && document.querySelectorAll(".lotusPaging li a.numShape").forEach(function (b) {
null !== document.querySelectorAll("a.check.hc") && b.addEventListener("click", function () {
    setTimeout(function () {
        files_disable_top_action();
        files_disable_usability()
    }, 600)
}, !1); files_disable_top_action()
})
} function files_disable_top_action() { document.querySelectorAll("a.check.hc").forEach(function (b) { b.addEventListener("click", function () { document.querySelectorAll("#lotusContentSceneActions div.lotusBtnContainer button").forEach(function (a, b) { 0 != b && (a.disabled = !0) }) }, !1) }) }
function communities_button_nav_disable_features() { document.querySelector('#tabNavContainer li[widgetdefid="Wiki"]').addEventListener("click", function () { wikis_disable_on_load() }, !1) } function community_files_disable_on_load() { var b = setInterval(function () { null !== document.getElementById("actionContainer") && (null !== document.getElementById("actionContainer") && (document.getElementById("actionContainer").querySelector("button").disabled = !0), clearInterval(b)) }, 800) }
function activites_disable_on_load() {
null !== document.querySelectorAll(".actionButtons .lotusBtn") && document.querySelectorAll(".actionButtons .lotusBtn").forEach(function (b) { b.style.visibility = "hidden" }); null !== document.querySelectorAll('div[dojoattachpoint="activityListBody_AP"] div.lotusActionBar span.lotusBtn') && document.querySelectorAll('div[dojoattachpoint="activityListBody_AP"] div.lotusActionBar span.lotusBtn').forEach(function (b) { b.style.visibility = "hidden" }); null !== document.querySelectorAll("#activityPageNodeContainer div.lotusActionBar span.lotusBtn") &&
    document.querySelectorAll("#activityPageNodeContainer div.lotusActionBar span.lotusBtn").forEach(function (b) { b.style.visibility = "hidden" }); document.querySelectorAll('div[dojoattachpoint="list_AP"] a[role="button"]') && document.querySelectorAll('div[dojoattachpoint="list_AP"] a[role="button"]').forEach(function (b) { b.style.visibility = "hidden" }); null !== document.querySelector('li[dojoattachpoint="commFollowButton_AP"]') && (document.querySelector('li[dojoattachpoint="commFollowButton_AP"]').style.visibility =
        "hidden"); null !== document.querySelector('li[dojoattachpoint="follow_AP"]') && (document.querySelector('li[dojoattachpoint="follow_AP"]').style.visibility = "hidden"); null !== document.querySelector('li[dojoattachpoint="mark_AP"]') && (document.querySelector('li[dojoattachpoint="mark_AP"]').style.visibility = "hidden"); null !== document.querySelector('li[dojoattachpoint="moreActions_AP"]') && (document.querySelector('li[dojoattachpoint="moreActions_AP"]').style.visibility = "hidden")
}
function wikis_disable_on_load() {
    var b = setInterval(function () {
    window.onhashchange = function () { setTimeout(wikis_disable_on_load, 600) }; document.querySelectorAll('#sideNav div.dijitTreeContainer[role="tree"] div[role="treeitem"]').forEach(function (a) { a.addEventListener("click", function () { setTimeout(wikis_disable_on_load, 600) }, !1) }); document.querySelectorAll("#sideNav div ul li").forEach(function (a) { a.addEventListener("click", function () { setTimeout(wikis_disable_on_load, 600) }, !1) }); null !== document.getElementById("lconnWikisNavTree") &&
        (null !== document.querySelector("#lotusColLeft a.lotusAction") && (document.querySelector("#lotusColLeft a.lotusAction").outerHTML = ""), null !== document.querySelector(".lotusBtnContainer") && (document.querySelector(".lotusBtnContainer").innerHTML = ""), document.querySelectorAll("#tabNavMenu div.tabNavActionsMenu ul li a").forEach(function (a) { a.addEventListener("click", function () { null !== document.getElementById(a.id + "_dropdown") && (document.getElementById(a.id + "_dropdown").innerHTML = "") }, !1) }), clearInterval(b))
    },
        600)
} function CNX_DISABLE_INPUT_FIELDS(b) { var a = 1E3; setInterval(function () { if ("undefined" !== typeof CKEDITOR) for (var d in CKEDITOR.instances) CKEDITOR.instances[d].setReadOnly(b); a += a / 10 }, a) }
function disable_filedrop_upload_dialog_submit_button() { window.location.pathname.startsWith("/files/app") && document.getElementById("list").addEventListener("dragover", function (b) { b.stopPropagation(); b.preventDefault(); var a = setInterval(function () { null !== document.getElementById("lconn_share_widget_Dialog_0") && (document.getElementById("submit_button").readonly = !0, document.getElementById("submit_button").type = "none", clearInterval(a)) }, 200) }) };
